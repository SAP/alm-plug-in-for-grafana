name: CI

on:
  push:
    branches: [ "test_ci" ]
  pull_request:
    branches: [ "test_ci" ]
# Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:

jobs:
  check:
    runs-on: ubuntu-latest
#    strategy:
 #     matrix:
 #       suite: ['base', 'main:suite-1', 'main:suite-2', 'fiori']
    steps:
    - run: echo "This job was automatically triggered by a ${{github.event_name}} event."
    - run: echo "This job is running on a ${{runner.os}} server"
    - uses: actions/checkout@v3
    - uses: actions/setup-node@v3
      with:
        node-version: 16
        cache: 'yarn'
        cache-dependency-path: sap-alm-dp-api-datasource/yarn.lock

    - name: Install Dependencies
      run: cd sap-alm-dp-api-datasource && pwd && yarn install

    - name: Build
      run: cd sap-alm-dp-api-datasource && yarn build
      #env:
  #      ENABLE_CLDR: 1

#    - name: Test
 #     run: cd sap-alm-dp-api-datasource && yarn test:${{ matrix.suite }}
